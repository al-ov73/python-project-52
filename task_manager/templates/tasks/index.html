{% extends "basic.html" %}


{% block content %}
{% load i18n %}

<h1 class="my-4">

Задачи

      </h1>


<div class="card mb-3">
  <div class="card-body bg-light">
    <form class="form-inline center" method="get">

        {{ filter.form.as_p }}

       <input class="btn btn-primary" type="submit" value="Показать">
    </form>
  </div>
</div>

<a class="btn btn-primary mb-3" href="/tasks/create/">Создать задачу</a>
<table class="table table-striped">

  <thead>
    <tr>
      <th>ID</th>
      <th>Имя</th>
      <th>Статус</th>
      <th>Автор</th>
      <th>Исполнитель</th>
      <th>Дата создания</th>
      <th></th>
    </tr>

    <tbody>
{% for task in filter.qs %}
      <tr>
      <td>{{ task.id }}</td>
      <td><a href="{% url 'task_show' task.id %}">{{ task.name }}</a></td>
      <td>{{ task.status }}</td>
      <td>{{ task.author }}</td>
      <td>{{ task.responsible }}</td>
      <td>{{ task.timestamp }}</td>
      <td>
          <form action="{% url 'task_update' task.id %}" method="get">
            {% csrf_token %}
          <input type="submit" value="Изменить">
            </form>
          <form action="{% url 'task_delete' task.id %}" method="get">
            {% csrf_token %}
          <input type="submit" value="Удалить">
            </form>
      </td>
    </tr>
{% endfor %}
    </tbody>

{% endblock %}